<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 1.非promise对象，非thenable对象
    // Promise.resolve(1).then(res => {
    //   console.log(res)
    // })
    
    // 2.Promise对象成功状态
    // const p2 = new Promise(resolve => resolve(2))
    // Promise.resolve(p2).then(console.log)

    // 3.Primose对象失败状态
    // const p3 = new Promise((_, reject) => reject(3))
    // Promise.resolve(p3).catch(err => {
    //   console.log('err---', err)
    // })

    // 4.thenable对象
    // const p4 = {
    //   then(resolve) {
    //     setTimeout(() => resolve(4), 1000)
    //   }
    // }
    // Promise.resolve(p4).then(console.log)

    // 5.啥都没传
    // Promise.resolve().then(console.log)

    // 源码实现resolve
    Promise.myResolve = function(value) {
      // 是Promise的实例，直接返回即可
      if (value && typeof value === 'object' && value instanceof Promise) {
        return value
      }
      // 否则其他情况一律再通过Promise包装一下
      return new Promise(resolve => resolve(value))
    }
    Promise.myResolve(11).then(console.log)
    const p2 = new Promise(resolve => resolve('haha'))
    Promise.myResolve(p2).then(console.log)
  </script>
</body>
</html>